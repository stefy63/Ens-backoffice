
<div class="content row col-12" *ngIf="newTicket">
    <div class="left-col col-7">
      <fieldset class="col-12 border mat-elevation-z4">
      <legend>Dettaglio Ticket:</legend>
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>Stato</th>
              <th>Categoria</th>
              <th>Nome</th>
              <th>Cognome</th>
              <th>Canale</th>
              <th>Data e Ora</th>
              <th>Numero di Telefono</th>
            </tr>
          </thead>
          <tbody>
              <tr>
                <td class="table__ticket__detail" [ngClass]="{'blink': (ticket.status.status === 'ONLINE') }"  >{{ticket.status}}</td>
                <td class="table__ticket__detail">{{ticket.category}}</td>
                <td class="table__ticket__detail">{{ticket.user_name}}</td>
                <td class="table__ticket__detail">{{ticket.user_surname}}</td>
                <td class="table__ticket__detail" [ngClass]="{
                  table__service__chat: ticket.id_service == 1,
                  table__service__sms: ticket.id_service == 2,
                  table__service__mail: ticket.id_service == 3
                  }">{{ticket.service}}</td>
                <td class="table__ticket__detail" [ngClass]="{'warn-900-fg blink': timeout }">{{ticket.date_time | date:'dd/MM/yyyy HH:mm':'UTC'}}</td>
                <td class="table__ticket__detail">{{ticket.phone}}</td>
              </tr>
          </tbody>
        </table>
      </fieldset>
      <div class="col-12 text-center">
        <br>
        <button *ngIf="!isOpen && ticket.status.status !== 'CLOSED' && ticket.status.status !== 'REFUSED'" class="mat-button done-button mat-accent col-3" (click)="activateChat()"><mat-icon>done</mat-icon> Accetta</button>
        <button *ngIf="isOpen" class="mat-button delete-button mat-warn col-3" (click)="closeChat()"><mat-icon>close</mat-icon> close</button>
        <button *ngIf="!isOpen && ticket.status.status === 'NEW'" class="mat-button delete-button mat-warn col-3" (click)="refuseChat()"><mat-icon>block</mat-icon> Rifiuta</button>
        <button class="mat-button delete-button mat-warn col-3" (click)="abortChat()"><mat-icon>reply</mat-icon> Indietro</button>
      </div>
    </div>

    <div class="col-5">
      <div class="right-col">
        <fieldset class="border mat-elevation-z4">
        <legend>Descrizione:</legend>
          <div >
              {{ticketReason}}
          </div>
        </fieldset>
      </div>

      <!-- <div class="row"  *ngIf="isOpen && ticket.status.status !== 'CLOSED' && ticket.status.status !== 'REFUSED'">
        <div class="col-10 default-select">
          <mat-select placeholder="Seleziona frase...." [(ngModel)]="selected" class="text-boxed ">
            <mat-option *ngFor="let msg of defaultDialog" [value]="msg.description">{{msg.description}}</mat-option>
          </mat-select>
        </div>
        <div class="col-2">
          <button (click)="onSelectChange()" mat-icon-button class="mat-15"><mat-icon>send</mat-icon></button>
        </div>
      </div> -->
      <div class="col-12 text-center msg-alert">
        <span *ngIf="msgAlert" class="alert">Ticket gi√† aperto da [ {{ticket.operator_name + ' ' + ticket.operator_surname}} ]</span>
      </div>
    </div>
</div>
