<div class="col-md-12 p-24" #queryReportForm>
  <div class="col-6 offset-md-3 header">
      <span class="mat-display-1 font-weight-900">Modulo filtro reports</span>>
  </div>
  <mat-divider></mat-divider>
  <div class="bordered col-12" >

      <mat-form-field class="col-6 offset-md-3">
          <mat-select placeholder="Categoria..." [(ngModel)]="id_category">
            <mat-option>---</mat-option>
            <mat-option *ngFor="let ct of category" [value]="ct.id" >
              {{ ct.category }}
            </mat-option>
          </mat-select>
      </mat-form-field>
      <mat-form-field class="col-6 offset-md-3">
          <input matInput type="text" placeholder="NÂ° Chiamato" [(ngModel)]="phone_number" [formControl]="numberFormControl"/>
          <mat-error *ngIf="numberFormControl.hasError('PhoneValidator')">Inserire solo numeri</mat-error>
          <button mat-button *ngIf="phone_number" matSuffix mat-icon-button aria-label="Clear" (click)="phone_number=''">
              <mat-icon>close</mat-icon>
          </button>
      </mat-form-field>
      <div class="col-6 offset-md-3">
        <mat-form-field class="col-5">
            <input #start_dateFormControl="ngModel" matInput [min]="startAt" [max]="endAt" [matDatepicker]="picker" placeholder="Date di inizio ricerca." [(ngModel)]="start_date">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker class="pull-right" #picker [startAt]="startAt"></mat-datepicker>
            <mat-error *ngIf="start_dateFormControl.hasError('matDatepickerParse')">Data con formato non valido.</mat-error>
            <mat-error *ngIf="start_dateFormControl.hasError('matDatepickerMin')">Data inferiore ai 180 giorni non valida.</mat-error>
            <mat-error *ngIf="start_dateFormControl.hasError('matDatepickerMax')">Data superiore ad oggi non valida.</mat-error>
        </mat-form-field>
        <mat-form-field class="col-5">
            <input #end_dateFormControl="ngModel" matInput [min]="startAt" [max]="endAt" [matDatepicker]="picker-end" placeholder="Date di fine ricerca." [(ngModel)]="end_date">
            <mat-datepicker-toggle matSuffix [for]="picker-end"></mat-datepicker-toggle>
            <mat-datepicker class="pull-right" #picker [startAt]="startAt"></mat-datepicker>
            <mat-error *ngIf="end_dateFormControl.hasError('matDatepickerParse')">Data con formato non valido.</mat-error>
            <mat-error *ngIf="end_dateFormControl.hasError('matDatepickerMin')">Data inferiore ai 180 giorni non valida.</mat-error>
            <mat-error *ngIf="end_dateFormControl.hasError('matDatepickerMax')">Data superiore ad oggi non valida.</mat-error>
        </mat-form-field>
      </div>

      <mat-form-field class="col-6 offset-md-3">
          <mat-select placeholder="Stato..."  [(ngModel)]="id_state">
            <mat-option>---</mat-option>
            <mat-option *ngFor="let st of state" [value]="st.id" >
              {{ st.status }}
            </mat-option>
          </mat-select>
      </mat-form-field>
      <mat-divider></mat-divider>
  </div>
  <p></p>
  <div class="pull-left col-6 offset-md-3">
    <button mat-button type="button" color="warn">
        <mat-icon>close</mat-icon> Annulla
    </button>
    <button mat-button (click)="onSubmit()" color="accent" >
        <mat-icon>done</mat-icon> Accetta
    </button>
  </div>
</div>
